<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowCraft - Scripts</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* minimal reuse: import key layout rules from index via duplication to keep identical sidebar behavior */
        :root {
            --primary-color: #1976d2;
            --primary-dark: #0d47a1;
            --secondary-color: #424242;
            --background-color: #121212;
            --surface-color: #1e1e1e;
            --surface-variant: #2d2d2d;
            --on-background: #ffffff;
            --on-surface: #ffffff;
            --on-primary: #ffffff;
            --border-color: #3d3d3d;
            --hover-color: #333333;
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Roboto', sans-serif; background-color: var(--background-color); color: var(--on-background); height:100vh; overflow:hidden; }
        .app_container { display:flex; height:100vh; }
        .sidebar { width:320px; height:100vh; background: linear-gradient(180deg, var(--surface-color) 0%, var(--surface-variant) 100%); border-right:1px solid var(--border-color); display:flex; flex-direction:column; transition: width .3s ease; box-shadow:2px 0 8px rgba(0,0,0,0.15); }
        .sidebar_header { padding:24px 20px; border-bottom:1px solid var(--border-color); display:flex; align-items:center; gap:16px; }
        .sidebar_title { font-size:1.3rem; font-weight:600; color:white; letter-spacing:.5px; }
        .app_logo { width:28px; height:28px; flex-shrink:0; }
        .app_logo .logo_node { fill: var(--surface-variant); stroke: var(--primary-color); stroke-width:2px; }
        .app_logo .logo_center { fill: var(--primary-color); stroke: var(--on-primary); stroke-width:1.5px; }
        .app_logo .logo_connector { fill:none; stroke: var(--primary-color); stroke-width:2px; stroke-linecap:round; }
        .sidebar_content { flex:1; padding:16px; display:flex; flex-direction:column; }
        .sidebar_section { margin-bottom:24px; }
        .sidebar_section_title { font-size:.875rem; font-weight:500; color: var(--on-surface); margin-bottom:12px; text-transform:uppercase; letter-spacing:.5px; opacity:.8; }
        .sidebar_item { display:flex; align-items:center; justify-content:flex-start; text-align:left; padding:12px 18px 12px 14px; margin-bottom:10px; background:transparent; border-radius:8px; cursor:pointer; transition: all .3s ease; border:none; width:100%; color: var(--on-surface); font-size:.875rem; font-weight:500; text-transform:capitalize; letter-spacing:.5px; opacity:.95; }
        .sidebar_item:hover { background: linear-gradient(135deg, var(--hover-color) 0%, rgba(51,51,51,.9) 100%); }
        .sidebar_item.active, .sidebar_item.run_mode_active { background:#484848; color: var(--on-primary); box-shadow: 0 4px 12px rgba(25,118,210,.3); }
        .sidebar_item .material-icons { margin-right:12px; font-size:20px; width:26px; }
        .sidebar_footer { margin-top:auto; padding-top:8px; border-top:1px solid var(--border-color); }
        .main_content { flex:1; display:flex; flex-direction:column; background-color: var(--background-color); }
        @media (max-width:768px){ .sidebar{ width:240px; } }
        /* placeholder area */
        .scripts_placeholder { flex:1; display:flex; align-items:center; justify-content:center; color:#bbb; font-size:1rem; }
        .scripts_card { background: var(--surface-variant); border:1px solid var(--border-color); border-radius:8px; padding:20px; max-width:560px; text-align:center; }
        .scripts_link { color:#90caf9; text-decoration:none; }
    </style>
</head>
<body>
    <div class="app_container">
        <!-- sidebar (identical structure) -->
        <div class="sidebar">
            <div class="sidebar_header">
                <svg class="app_logo" viewBox="0 0 24 24" aria-hidden="true">
                    <rect class="logo_node" x="2" y="3" width="6" height="6" rx="1.5" />
                    <circle class="logo_center" cx="12" cy="12" r="3" />
                    <rect class="logo_node" x="16" y="15" width="6" height="6" rx="1.5" />
                    <path class="logo_connector" d="M8 6 H12 V9" />
                    <path class="logo_connector" d="M12 15 H16 V18" />
                </svg>
                <h1 class="sidebar_title">FlowCraft</h1>
            </div>
            <div class="sidebar_content">
                <div class="sidebar_section">
                    <h3 class="sidebar_section_title">ACTIONS</h3>
                    <button class="sidebar_item" id="build_btn" onclick="window.location.href='/'">
                        <span class="material-icons">build</span>
                        Build
                    </button>
                    <button class="sidebar_item run_mode_active" id="scripts_btn">
                        <span class="material-icons">code</span>
                        Scripts
                    </button>
                    <button class="sidebar_item" id="run_btn" onclick="window.location.href='/'">
                        <span class="material-icons">play_arrow</span>
                        Run
                    </button>
                    <button class="sidebar_item" id="history_btn" onclick="window.location.href='/'">
                        <span class="material-icons">history</span>
                        History
                    </button>
                </div>
                <div class="sidebar_section">
                    <h3 class="sidebar_section_title">TOOLS</h3>
                    <button class="sidebar_item" id="export_btn" onclick="window.location.href='/'">
                        <span class="material-icons">download</span>
                        export
                    </button>
                </div>
                <div class="sidebar_section">
                    <h3 class="sidebar_section_title">FLOWCHART</h3>
                    <div class="form_group">
                        <div class="dropdown_container">
                            <input type="text" class="form_input dropdown_input" placeholder="select flowchart..." readonly>
                            <span class="dropdown_arrow material-icons">arrow_drop_down</span>
                            <div class="dropdown_menu">
                                <div class="dropdown_no_results">not available in scripts view</div>
                            </div>
                        </div>
                    </div>
                    <div class="create_flowchart_link_container">
                        <a href="/" class="create_flowchart_link"><span class="material-icons">add</span> create new flowchart</a>
                    </div>
                </div>
                <div class="sidebar_footer">
                    <button class="sidebar_item" id="settings_btn" onclick="window.location.href='/'" title="settings" style="margin-bottom:-8px">
                        <span class="material-icons">settings</span>
                        settings
                    </button>
                </div>
            </div>
        </div>

        <!-- main content for scripts interface -->
        <div class="main_content">
            <div class="scripts_placeholder">
                <div class="scripts_card">
                    <div style="font-size:1.1rem; font-weight:600; margin-bottom:6px;">scripts interface</div>
                    <div style="opacity:.8; margin-bottom:12px;">coming soon</div>
                    <div style="font-size:.9rem; opacity:.7;">use the sidebar to return to build or run</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // preserve flow param when returning to main page
        (function(){
            const params = new URLSearchParams(window.location.search);
            const flow = params.get('flow');
            function withFlow(href){
                if (!flow) return href;
                const u = new URL(href, window.location.origin);
                u.searchParams.set('flow', flow);
                return u.pathname + '?' + u.searchParams.toString();
            }

            const buildBtn = document.getElementById('build_btn');
            const runBtn = document.getElementById('run_btn');
            const historyBtn = document.getElementById('history_btn');
            const exportBtn = document.getElementById('export_btn');
            const settingsBtn = document.getElementById('settings_btn');
            if (buildBtn) buildBtn.onclick = () => window.location.href = withFlow('/');
            if (runBtn) runBtn.onclick = () => window.location.href = withFlow('/');
            if (historyBtn) historyBtn.onclick = () => window.location.href = withFlow('/');
            if (exportBtn) exportBtn.onclick = () => window.location.href = withFlow('/');
            if (settingsBtn) settingsBtn.onclick = () => window.location.href = withFlow('/');
        })();
    </script>
</body>
</html>


