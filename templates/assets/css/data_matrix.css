/* variables are defined globally in /assets/css/index.css */

/* global resets are defined in /assets/css/index.css to avoid conflicts */

.app_container { display: flex; height: 100vh; }
.data_matrix_container { flex: 1; max-width: unset; padding: 24px; margin-left: 0; overflow-y: auto; }
/* header removed on data matrix page */

.dm_content { display:flex; flex-direction: column; gap: 12px; width: 100%; }

.dm_row {
  display:grid;
  grid-template-columns: 350px 1fr; /* left info / right data */
  gap: 0; /* use a single vertical divider instead of spacing */
  background: var(--surface-color);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px;
  width: 100%;
}

.dm_left { background: transparent; border: none; border-radius: 0; padding: 0px 24px 0px 0px; display:flex; flex-direction: column; gap: 8px; width: 350px; min-width: 350px; max-width: 350px; }
.dm_left_header { display:flex; align-items:center; justify-content: space-between; gap: 8px; }
.dm_actions_row { display:flex; gap: 8px; margin-top: 4px; }
.dm_row_btn { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; font-size: .85rem; }
.dm_stats { display: grid; grid-template-columns: 1fr; gap: 8px; margin-top: 4px; }
.dm_stat { display: grid; grid-template-columns: 28px 1fr; align-items: center; gap: 8px; background: rgba(255,255,255,0.03); border: 1px solid var(--border-color); border-radius: 6px; padding: 8px; }
.dm_stat_icon {
  font-size: 18px;
  opacity: .85;
  color: #90caf9;
  display: flex;
  flex-direction: row;
  justify-content: center;
}
.dm_stat_text { display:flex; flex-direction: column; }
.dm_stat_label { font-size: .75rem; opacity: .7; text-transform: lowercase; }
.dm_stat_value { font-size: .95rem; }
.dm_right { background: transparent; border: none; border-radius: 0; padding: 0px 0px 0px 5px; min-height: 80px; min-width: 0; }
.dm_data_bar { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; gap: 12px; }
.dm_search_container { flex: 1; max-width: 400px; display: flex; align-items: center; gap: 12px; position: relative; }
.dm_search_input { flex: 0 0 230px; width: 230px; min-width: 230px; max-width: 230px; padding: 8px 12px 8px 22px; background: transparent; border: none; border-bottom: 1px solid var(--border-color); border-radius: 0; color: var(--on-surface); font-size: 0.9rem; }
.dm_search_icon { position: absolute; left: 0px; top: 50%; transform: translateY(-50%); color: rgba(255,255,255,0.5); font-size: 18px; pointer-events: none; margin-right:-12px }
.dm_match_count { font-size: 0.85rem; opacity: 0.7; white-space: nowrap; }
.dm_search_input::placeholder { color: rgba(255,255,255,0.5); }
.dm_search_input:focus { outline: none; border-color: var(--primary-color); }
.dm_export_btn { display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px; font-size: 0.9rem; }
.dm_export_btn .btn_label { font-size: .85rem; padding-top: 6px; padding-bottom: 6px; }
.dm_data_content { width: 100%; }
.dm_table { width: 100%; border-collapse: collapse; table-layout: fixed; }
.dm_table thead th { text-align: left; font-weight: 500; opacity: 0.8; font-style: italic; padding: 8px 6px; border-bottom: 1px solid var(--border-color); }
.dm_table thead th.dm_col_type { text-align: center; }
.dm_table tbody td { padding: 8px 6px; vertical-align: middle; border-bottom: 1px solid var(--border-color); }
.dm_table tbody td.dm_col_type { padding-left: 0; padding-right: 0; }

/* truncate long values in value column */
.dm_table tbody td.dm_col_value {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  /* allow the column to take remaining space and ellipsize within it */
  width: auto;
  min-width: 0;
}
/* keep header cell consistent */
.dm_table thead th.dm_col_value { min-width: 0; }

/* column sizing: ensure total does not exceed 100% */
.dm_col_var_name { width: 22%; }
.dm_col_py_name { width: 24%; }
/* let value column flex into remaining space (no explicit % width) */
.dm_col_value { }
/* use a fixed width for actions so it doesn't steal too much space */
.dm_col_actions { width: 160px; text-align: right; padding: 4px 6px; }
.dm_open_btn { display:inline-flex; align-items:center; gap:6px; padding:4px 8px; font-size:.85rem; }

/* actions column styling - type tag and open button together */
.dm_col_actions {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

.dm_col_actions .dm_type_tag {
  margin: 0; /* remove auto margins since we're using flexbox */
}

/* type tag styling with fully rounded ends */
.dm_type_tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 2px 10px;
  border-radius: 9999px;
  background: rgba(255,255,255,0.08);
  border: 1px solid var(--border-color);
  font-size: .8rem;
  text-transform: lowercase;
  line-height: 1.4;
  color: var(--on-surface);
  min-width: 64px;
  white-space: nowrap;
  margin-left: auto; /* center horizontally */
  margin-right: auto; /* center horizontally */
}

/* color variants by type */
.dm_type_tag_integer,
.dm_type_tag_float { /* numbers */
  background: rgba(25,118,210,.18);
  border-color: rgba(25,118,210,.35);
  color: #90caf9;
}

.dm_type_tag_string {
  background: rgba(156,39,176,.18);
  border-color: rgba(156,39,176,.35);
  color: #ce93d8;
}

.dm_type_tag_array {
  background: rgba(0,150,136,.18);
  border-color: rgba(0,150,136,.35);
  color: #80cbc4;
}

.dm_type_tag_object {
  background: rgba(255,152,0,.18);
  border-color: rgba(255,152,0,.35);
  color: #ffcc80;
}

.dm_type_tag_boolean {
  background: rgba(255,235,59,.18);
  border-color: rgba(255,235,59,.35);
  color: #fff59d;
}

.dm_type_tag_null,
.dm_type_tag_unknown {
  background: rgba(158,158,158,.18);
  border-color: rgba(158,158,158,.35);
  color: #e0e0e0;
}

.dm_status { display:inline-flex; align-items:center; gap:8px; padding: 4px 8px; font-size:.8rem; border-radius: 9999px; width: fit-content; text-transform: lowercase; margin-top: 5px; }
.dm_status_success { background: rgba(76,175,80,.12); color: #4caf50; border: 1px solid rgba(76,175,80,.35); }
.dm_status_failed { background: rgba(244,67,54,.12); color: #f44336; border: 1px solid rgba(244,67,54,.35); font-size: .85rem; padding-top: 6px; padding-bottom: 6px; }
.dm_status_info { background: rgba(25,118,210,.12); color: #90caf9; border: 1px solid rgba(25,118,210,.35); }

.dm_meta { font-size: .9rem; opacity: .9; }

.dm_empty, .dm_error { opacity: .8; text-align:center; padding: 24px; border: 1px dashed var(--border-color); border-radius: 8px; }

/* failure info block under left/right, full width */
.dm_failure_info {
  grid-column: 1 / -1; /* span full width under both columns */
  margin-top: 12px;
  background: rgba(244,67,54,.1);
  border: 1px solid rgba(244,67,54,.35);
  border-radius: 6px;
  padding: 12px;
}
.dm_failure_title {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #f44336;
  font-weight: 500;
  margin-bottom: 8px;
}
.dm_failure_icon { font-size: 18px; }
.dm_failure_body { display: grid; grid-template-columns: 180px 1fr; gap: 6px 12px; }
.dm_failure_label { opacity: .8; text-transform: lowercase; }
.dm_failure_value { white-space: pre-wrap; word-break: break-word; }

@media (max-width: 900px) {
  .dm_row { grid-template-columns: 1fr; }
  .dm_failure_body { grid-template-columns: 1fr; }
}

/* detail view styles */
.dm_detail_container { display: flex; flex-direction: column; gap: 12px; width: 100%; }
.dm_detail_block {
  background: var(--surface-color);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px;
  min-height: fit-content; /* shrink-wrap content */
}
.dm_detail_meta {
  display: grid;
  grid-template-columns: 180px 1fr;
  gap: 8px 12px;
}
.dm_detail_label { opacity: .8; text-transform: lowercase; }
.dm_detail_value { display: flex; align-items: center; gap: 8px; }
.dm_detail_value pre {
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 10px;
}

